/*
 * SnapMotion
 * By Snapshot Media (http://snapshotmedia.co.uk/)
 * Copyright (c) 2010 Snapshot Media
 * Licensed under the MIT License: http://www.opensource.org/licenses/mit-license.php
*/
(function($){$.fn.SnapMotion=function(_1){var el=this;var _2={"slideWidth":960,"cIndent":640,"fadeLength":375,"ssDelay":7500};if(_1){$.extend(_2,_1);}var _3=false;var _4=el.children("li").size()-1;var _5=_2["slideWidth"]*(_4+1);var _6=_2["fadeLength"]+50;var _7="<div id=\"slideshowcontrols\"><ul>";for(var i=1;i<=el.children("li").size();i++){_7+="<li><div class=\"content\"></div><ul class=\"controls\"><li class=\"prev\"><a href=\"#\">&lt; Previous</a></li><li class=\"next\"><a href=\"#\">Next &gt;</a></li></ul></li>";}_7+="</ul><img src=\"img/feature_shades.png\" alt=\"Feature shades\" width=\"960\" height=\"399\" class=\"featureShades\" /></div>";jQuery(_7).insertAfter(el);for(var i=0;i<=_4;i++){var _8=el.children("li").eq(i).find("span");var _9=_8.html();_8.remove();el.siblings("#slideshowcontrols").children("ul").children("li").eq(i).children("div.content").html(_9);}var _a=_4;var _b=_4-1;var _c=el.children("li").eq(_a);var _d=el.children("li").eq(_b);var _e=el.siblings("#slideshowcontrols").children("ul").children("li").eq(_a);var _f=el.siblings("#slideshowcontrols").children("ul").children("li").eq(_b);var _10=0;el.children("li").hide().each(function(){var _11=el.children("li").index(jQuery(this))*_2["slideWidth"];jQuery(this).css({"left":_11+"px"});});el.siblings("#slideshowcontrols").children("ul").children("li").hide().each(function(){var _12=(el.siblings("#slideshowcontrols").children("ul").children("li").index(jQuery(this))*_2["slideWidth"])+_2["cIndent"];jQuery(this).css({"left":_12+"px"});});el.children("li").eq(_4).animate({"left":"-="+_5},1);el.siblings("#slideshowcontrols").children("ul").children("li").eq(_4).animate({"left":"-="+_5},1);el.children("li").fadeIn(375);el.siblings("#slideshowcontrols").children("ul").children("li").fadeIn(375);_13();el.siblings("#slideshowcontrols").find(".controls li a").click(function(){var _14=jQuery(this).parents("ul.controls").parent();var _15=jQuery(this).parent();var _16=el.siblings("#slideshowcontrols").children("ul").children("li").index(jQuery(this).parents("ul.controls").parent());if(!_3){_3=true;if(jQuery(this).parent().hasClass("next")){_17();}else{_18();}_19();}return false;});function _17(){el.children("li").animate({left:"-="+_2["slideWidth"]},_2["fadeLength"]);setTimeout(function(){el.siblings("#slideshowcontrols").children("ul").children("li").animate({left:"-="+_2["slideWidth"]},_2["fadeLength"]);setTimeout(function(){_1a(true);_3=false;},_6);},_2["fadeLength"]);};function _18(){el.children("li").animate({left:"+="+_2["slideWidth"]},_2["fadeLength"]);setTimeout(function(){el.siblings("#slideshowcontrols").children("ul").children("li").animate({left:"+="+_2["slideWidth"]},_2["fadeLength"]);setTimeout(function(){_1a(false);_3=false;},_6);},_2["fadeLength"]);};function _1a(_1b){if(_1b){_c.animate({"left":"+="+_5},1);_e.animate({"left":"+="+_5},1);_a=((el.children("li").index(_c)<_4)?el.children("li").index(_c)+1:0);_b=((el.children("li").index(_d)<_4)?el.children("li").index(_d)+1:0);}else{_d.animate({"left":"-="+_5},1);_f.animate({"left":"-="+_5},1);_a=((el.children("li").index(_c)>0)?el.children("li").index(_c)-1:_4);_b=((el.children("li").index(_d)>0)?el.children("li").index(_d)-1:_4);}_c=el.children("li").eq(_a);_e=el.siblings("#slideshowcontrols").children("ul").children("li").eq(_a);_d=el.children("li").eq(_b);_f=el.siblings("#slideshowcontrols").children("ul").children("li").eq(_b);};function _13(){_10=setInterval(function(){_17();},_2["ssDelay"]);};function _19(){clearInterval(_10);_13();};};})(jQuery);